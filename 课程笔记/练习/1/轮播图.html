<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 100%;
            height: 100%;
        }
        #box{
            width: 500px;
            height: 300px;
            margin: 50px auto;
            background: #9F9F9F;
            border: 2px solid #ff3f38;
            position: relative;
            overflow: hidden;
        }
        #div{
            height: auto;
            position: absolute;
            left:0;
            top: 0;
        }
        #div img{
            margin: 5px 11px;
            float: left;
        }
        #ul{
            position: absolute;
            width: 300px;
            height: 10px;
            bottom: 20px;
        }
        #ul li{
            color: #ff3f38;
            float: left;
            cursor: pointer;
            margin: 0 20px;
        }
        #ul li:hover{
            color: #0000ff;
        }
        button{
            width: 40px;
            height: 80px;
            text-align: center;
            line-height: 40px;
            position: absolute;
            top: 110px;
            background: #ff3f38;
            opacity: 0.7;
        }
        #btnL{
            left: 0;
        }
        #btnR{
            right: 0;
        }

    </style>
    <script src="../../jquery-1.8.3.min.js"></script>
    <script src="utils.js"></script>
</head>
<body>
<div id="box">
    <div id="div">
        <img src="img/1.jpg" alt="">
        <img src="img/2.jpg" alt="">
        <img src="img/3.jpg" alt="">
        <img src="img/4.jpg" alt="">
        <img src="img/5.jpg" alt="">
        <img src="img/6.jpg" alt="">
        <img src="img/1.jpg" alt="">
        <img src="img/2.jpg" alt="">
        <!--<imgs src="imgs/10.jpg" alt="">-->
        <!--<imgs src="imgs/12.jpg" alt="">-->
        <!--<imgs src="imgs/52.jpg" alt="">-->
        <!--<imgs src="imgs/13.jpg" alt="">-->
        <!--<imgs src="imgs/14.jpg" alt="">-->
        <!--<imgs src="imgs/15.jpg" alt="">-->
        <!--<imgs src="imgs/16.jpg" alt="">-->
        <!--<imgs src="imgs/21.jpg" alt="">-->
        <!--<imgs src="imgs/62.jpg" alt="">-->
        <!--<imgs src="imgs/22.jpg" alt="">-->
        <!--<imgs src="imgs/23.jpg" alt="">-->
        <!--<imgs src="imgs/24.jpg" alt="">-->
        <!--<imgs src="imgs/25.jpg" alt="">-->
        <!--<imgs src="imgs/26.jpg" alt="">-->
        <!--<imgs src="imgs/31.jpg" alt="">-->
        <!--<imgs src="imgs/37.jpg" alt="">-->
        <!--<imgs src="imgs/32.jpg" alt="">-->
        <!--<imgs src="imgs/33.jpg" alt="">-->
        <!--<imgs src="imgs/34.jpg" alt="">-->
        <!--<imgs src="imgs/35.jpg" alt="">-->
        <!--<imgs src="imgs/36.jpg" alt="">-->
        <!--<imgs src="imgs/41.jpg" alt="">-->
        <!--<imgs src="imgs/42.jpg" alt="">-->
    </div>
    <ul id="ul">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <button id="btnL"> < </button>
    <button id="btnR"> > </button>
</div>

<!--<script>-->
    <!--var oBOx=document.getElementById('box');-->
    <!--var oDiv=document.getElementById('div');-->
    <!--var aImg=oDiv.getElementsByTagName('imgs');-->

    <!--var l =aImg.length-1;-->
    <!--var w = aImg[0].offsetWidth;-->
<!--//    console.log(w);-->
    <!--var n= l* w;-->
    <!--console.log(n);-->

    <!--var a=0;-->
    <!--var t;-->
<!--//    s();-->
    <!--if(a>-n){-->
        <!--a-=5;-->
<!--//                console.log(a);-->
        <!--oDiv.style.left = a-2 + 'px';-->
    <!--}else {-->
        <!--a =0;-->
    <!--}-->
<!--//    function s(){-->
<!--//        clearInterval(t);-->
<!--//        t =setInterval(function(){-->
<!--//            if(a>-n){-->
<!--//                a-=5;-->
<!--////                console.log(a);-->
<!--//                oDiv.style.left = a-2 + 'px';-->
<!--//            }else {-->
<!--//                a =0;-->
<!--//            }-->
<!--//        },20)-->
<!--//    }-->
<!--//    oBOx.onmouseover = function () {-->
<!--//        clearInterval(t)-->
<!--//    };-->
<!--//     oBOx.onmouseout = function () {-->
<!--//        s()-->
<!--//    };-->





<!--</script>-->

<script>
    window.onload =function(){
        var oBox=document.getElementById('box');
        var oDiv=document.getElementById('div');
        var oImg=oDiv.getElementsByTagName('img');

        var aBtnL=document.getElementById('btnL');
        var aBtnR=document.getElementById('btnR');

        oDiv.style.width =(500*oImg.length)/2 +'px';

//        var dLo = oDiv.style.width;
        var oUl=document.getElementById('ul');
        var oLi=oUl.getElementsByTagName('li');

        oUl.style.left=(oBox.offsetWidth -oUl.offsetWidth) +'px';

//        var xLo=oUl.style.left;

        var l = oBox.length;

        var index =-1;

        aBtnL.onclick = function(){
            if($('#div').is(':animated')){
                return;
            }
            index--;
          if(index == -l){
              index =-l +3;
              oBox.style.left =(index +1)*500 +'px';
          }
            $("#div").animate({'left':index * 500 +'px'},300);
            for (var i = 0; i < oLi.length; i++) {
                oLi[i].style.background ='#ff0'
            }
            var a=index;
            if(a ==3){
                a=-1;
            }

        };
        aBtnR.onclick = function(){
            if($('#div').is(':animated')){
                return;
            }
            index++;
          if(index >0 ){
              index =-l +3;
              oBox.style.left =(index -1)*500 +'px';
          }
            $("#div").animate({'left':index * 500 +'px'},300);
            for (var i = 0; i < oLi.length; i++) {
                oLi[i].style.background ='#ff0'
            }
            var a=index;
            if(a == 0){
                a=-2;
            }

        };


//        $('#div').animate({'left':(-500*index) +'px'},3000);

        for (var i = 0; i < oLi.length; i++) {

            oLi[i].num=i;

            oLi[i].onclick = function(){
                index =-this.num -1;

                $('#div').animate({"left":index * 500 +'px'},300);
                setA();
            }

        }
        function setA(){
            if(index>= oImg.length-1){
                index = oImg.length;
            }
            for (var i = 0; i < oLi.length; i++) {
                oLi[i].style.background=''
            }
        }
//        oLi[index].style.background='#0000ff';






    }


</script>
</body>
</html>